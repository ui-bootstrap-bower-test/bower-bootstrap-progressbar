angular.module("ui.bootstrap.progressbar",[]).constant("progressConfig",{animate:!0,max:100}).controller("ProgressController",["$scope","$attrs","progressConfig",function(e,r,t){var a=this,n=angular.isDefined(r.animate)?e.$parent.$eval(r.animate):t.animate;this.bars=[],this.max=angular.isDefined(r.max)?e.$parent.$eval(r.max):t.max,this.addBar=function(e,r){e.$element=r,n||e.$element.css({transition:"none"}),this.bars.push(e),e.$watch("value",function(){a.update(e)}),e.$on("$destroy",function(){e.$element=null,a.removeBar(e)})},this.update=function(e){var r=this.getPercentage(e.value);e.$element.css({width:r+"%"})},this.removeBar=function(e){this.bars.splice(this.bars.indexOf(e),1)},this.getPercentage=function(e){return Math.round(100*e/this.max)}}]).directive("progress",function(){return{restrict:"EA",replace:!0,transclude:!0,controller:"ProgressController",require:"progress",scope:{},templateUrl:"template/progressbar/progress.html"}}).directive("bar",function(){return{restrict:"EA",replace:!0,transclude:!0,require:"^progress",scope:{value:"=",type:"@"},templateUrl:"template/progressbar/bar.html",link:function(e,r,t,a){a.addBar(e,r)}}}).directive("progressbar",function(){return{restrict:"EA",replace:!0,transclude:!0,controller:"ProgressController",scope:{value:"=",type:"@"},templateUrl:"template/progressbar/progressbar.html",link:function(e,r,t,a){a.addBar(e,angular.element(r.children()[0]))}}});